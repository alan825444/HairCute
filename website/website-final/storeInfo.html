<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>髮CUTE | 預剪美好的一天</title>
  <meta name="robots" content="index, follow" />
  <meta name="description" content="" />

  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU" crossorigin="anonymous" />

  <!-- Core Stylesheet -->
  <link rel="stylesheet" href="style.css" />

  <!-- font awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"
    integrity="sha512-1ycn6IcaQQ40/MKBW2W4Rhis/DbILU74C1vSrLJxCq57o941Ym01SwNsOMqvEBFlcgUa6xLiPY/NS5R+E6ztJQ=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />

  <!-- jquery ui -->
  <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/themes/smoothness/jquery-ui.css" />

  <!-- jQuery js -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>

  <!-- timepicker -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/timepicker/1.3.5/jquery.timepicker.min.css" />

  <!-- confirm btn -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery-confirm/3.3.2/jquery-confirm.min.css" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-confirm/3.3.2/jquery-confirm.min.js"></script>
</head>

<body>
  <!-- ***** Header Area Start ***** -->
  <header class="header-area">
    <!-- Main Header Start -->
    <div class="main-header-area">
      <div class="classy-nav-container breakpoint-off">
        <!-- Classy Menu -->
        <nav class="classy-navbar justify-content-between" id="monaNav">
          <!-- Background Curve -->
          <div class="bg-curve" style="background-image: url(./img/banner-img/curve.png);"></div>

          <!-- Logo -->
          <a class="nav-brand" href="index.html"><img src="./img/banner-img/logo.png" alt="" /></a>

          <!-- Navbar Toggler -->
          <div class="classy-navbar-toggler">
            <span class="navbarToggler"><span></span><span></span><span></span></span>
          </div>

          <!-- Menu -->
          <div class="classy-menu">
            <!-- Menu Close Button -->
            <div class="classycloseIcon">
              <div class="cross-wrap">
                <span class="top"></span><span class="bottom"></span>
              </div>
            </div>

            <!-- Nav Start -->
            <div class="classynav">
              <ul id="nav">
                <li><a href="login.html">登入</a></li>
                <li>
                  <a href="#" data-toggle="modal" data-target="#register-select">註冊</a>
                </li>

                <li>
                  <a href="#"><i class="fas fa-map-marker-alt mr-2"></i>台北</a>
                  <ul class="dropdown">
                    <li><a href="#">- 台中</a></li>
                    <li><a href="#">- 高雄</a></li>
                  </ul>
                </li>
              </ul>
            </div>
            <!-- Nav End -->
          </div>
        </nav>
      </div>
    </div>
  </header>
  <!-- ***** Header Area End ***** -->

  <!-- ***** Top Search Area Start ***** -->
  <div class="top-search-area">
    <!-- Search Modal -->
    <div class="modal fade" id="searchModal" tabindex="-1" role="dialog" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
          <div class="modal-body">
            <!-- Close Button -->
            <button type="button" class="btn close-btn" data-dismiss="modal">
              <i class="fa fa-times"></i>
            </button>
            <!-- Form -->
            <form action="index.html" method="post">
              <input type="search" name="top-search-bar" class="form-control" placeholder="Search and hit enter..." />
              <button type="submit">Search</button>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- ***** Top Search Area End ***** -->

  <!-- ***** register Area Start ***** -->
  <div class="register-select">
    <!-- register Modal -->
    <div class="modal fade" id="register-select" tabindex="-1">
      <div class="modal-dialog">
        <div class="modal-content register-cardarea">
          <div class="modal-header border-0">
            <button type="button" class="btn-close text-end" data-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="register-select">
            <div class="register-card shadow">
              <a href="register.html">
                <div class="register-cardHead" id="banner01">設計師</div>
                <div class="register-cardBody">
                  <img src="img/register-store.png" />
                </div>
              </a>
            </div>
            <div class="register-card shadow">
              <a href="register.html">
                <div class="register-cardHead" id="banner02">消費者</div>
                <div class="register-cardBody">
                  <img src="img/register-customer.png" />
                </div>
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- ***** register Area End ***** -->

  <!-- ***** storeInfo Area Start ***** -->
  <div class="container storeInfo-area">
    <div class="row storeInfo-header align-items-center">
      <div class="col-12 col-md-6 d-flex justify-content-md-end storeInfo-pic">
        <img src="img/user-img/store2.jpg" class="uesr-pic" />
      </div>
      <div class="col-12 col-md-6 storeInfo-section d-flex justify-content-center">
        <ul>
          <li>
            <div class="userInfo">
              <h2>查理</h2>
              <a href="#" class="mt-2 ml-3">
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <span class="ml-1">4.9</span></a>
            </div>
          </li>
          <li>
            <div class="d-flex align-items-center">
              <p class="mr-2 mb-0">ARTIST SALON</p>
              <p class="mb-0">/</p>
              <p class="ml-2 mb-0">桃園市楊梅區金山街257號1樓</p>
            </div>
          </li>
          <li>
            <div class="user-skills mt-2">
              <h4>擅長</h4>
            </div>
          </li>
          <li>
            <div class="skills-tag mt-3">
              <a href="#">#自然卷</a>
              <a href="#">#短髮</a>
              <a href="#">#漂髮</a>
            </div>
          </li>
        </ul>
      </div>
    </div>

    <div class="row storeInfo-Tab d-flex justify-content-center">
      <div class="col-md-12 col-12" id="storeInfo-Tab">
        <a href="#" class="Tab1 col-3 col-md-3">
          <i class="far fa-images mr-2"></i>作品集
        </a>
        <a href="#" class="Tab3 col-3 col-md-3">
          <i class="fas fa-cut mr-2"></i>價目表
        </a>
        <a href="#" class="Tab5 col-3 col-md-3">
          <i class="far fa-comment-dots mr-2"></i>評價
        </a>
      </div>
    </div>
    <script>
      $(document).ready(function () {
        $('.Tab1').addClass('change')
        $('#article-area,#menu-area,#evaluate-area').hide()
      })
      $('.Tab1').click(function () {
        $('.Tab5,.Tab3').removeClass('change')
        $(this).addClass('change')
        $('#design-area').fadeIn()
        $('#menu-area,#evaluate-area').fadeOut()
      })
      $('.Tab3').click(function () {
        $('.Tab5,.Tab1').removeClass('change')
        $(this).addClass('change')
        $('#menu-area').fadeIn()
        $('#evaluate-area,#design-area').fadeOut()
      })
      $('.Tab5').click(function () {
        $('.Tab1,.Tab3').removeClass('change')
        $(this).addClass('change')
        $('#evaluate-area').fadeIn()
        $('#design-area,#menu-area').fadeOut()
      })
    </script>

    <!--design-area start-->
    <div class="container" id="design-area">
      <div class="row design-area">
        <div class="col-6 col-md-3 design-item d-flex flex-column">
          <a href="#">
            <div class="design-head">
              <img src="img/bg-img/25.jpg" class="design-pic" />
            </div>
            <div class="design-body">
              <p>Lorem ipsum dolor sit, amet consectetur adipisicing elit.</p>
            </div>
          </a>
        </div>
        <div class="col-6 col-md-3 design-item d-flex flex-column">
          <a href="#">
            <div class="design-head">
              <img src="img/bg-img/26.jpg" class="design-pic" />
            </div>
          </a>
          <div class="design-body">
            <p>Lorem ipsum dolor sit, amet consectetur adipisicing elit.</p>
          </div>
        </div>
        <div class="col-6 col-md-3 design-item d-flex flex-column">
          <a href="#">
            <div class="design-head">
              <img src="img/bg-img/27.jpg" class="design-pic" />
            </div>
          </a>
          <div class="design-body">
            <p>Lorem ipsum dolor sit, amet consectetur adipisicing elit.</p>
          </div>
        </div>
        <div class="col-6 col-md-3 design-item d-flex flex-column">
          <a href="#">
            <div class="design-head">
              <img src="img/bg-img/28.jpg" class="design-pic" />
            </div>
          </a>
          <div class="design-body">
            <p>Lorem ipsum dolor sit, amet consectetur adipisicing elit.</p>
          </div>
        </div>
        <div class="col-6 col-md-3 design-item d-flex flex-column">
          <a href="#">
            <div class="design-head">
              <img src="img/bg-img/25.jpg" class="design-pic" />
            </div>
          </a>
          <div class="design-body">
            <p>Lorem ipsum dolor sit, amet consectetur adipisicing elit.</p>
          </div>
        </div>
        <div class="col-6 col-md-3 design-item d-flex flex-column">
          <a href="#">
            <div class="design-head">
              <img src="img/bg-img/26.jpg" class="design-pic" />
            </div>
          </a>
          <div class="design-body">
            <p>Lorem ipsum dolor sit, amet consectetur adipisicing elit.</p>
          </div>
        </div>
        <div class="col-6 col-md-3 design-item d-flex flex-column">
          <a href="#">
            <div class="design-head">
              <img src="img/bg-img/27.jpg" class="design-pic" />
            </div>
          </a>
          <div class="design-body">
            <p>Lorem ipsum dolor sit, amet consectetur adipisicing elit.</p>
          </div>
        </div>
        <div class="col-6 col-md-3 design-item d-flex flex-column">
          <a href="#">
            <div class="design-head">
              <img src="img/bg-img/28.jpg" class="design-pic" />
            </div>
          </a>
          <div class="design-body">
            <p>Lorem ipsum dolor sit, amet consectetur adipisicing elit.</p>
          </div>
        </div>
      </div>
    </div>
    <!--design-area End-->

    <!--menu-area start-->
    <div class="container" id="menu-area">
      <div class="row menu-info mb-3">

        <div class="menu-img col-12 col-md-3">
          <div class="menu-img-container">
            <img src="img/bg-img/hair-cut.jpg" />
          </div>
        </div>
        <div class="col-md-6 col-12 menu-title">
          <div class="d-flex flex-md-row justify-content-md-between align-items-center">
            <h4 class="menu-name">造型剪髮＋舒適洗頭</h4>
            <h6 class="menu-price col-md-3">
              <i class="fas fa-dollar-sign mr-1"></i>499
            </h6>
          </div>
          <p class="menu-description">
            Lorem ipsum dolor sit amet consectetur, adipisicing elit.
          </p>
        </div>
        <div class="reserve-btn col-12 col-md-2">
          <button class="btn btn-success reserve-confirm" data-bs-toggle="modal" data-bs-target="#time-table">
            查看可預約時間
          </button>
        </div>
      </div>
      <div class="row menu-info mt-3 mb-3">


        <div class="menu-img col-md-3">
          <div class="menu-img-container">
            <img src="img/bg-img/perm-hair.jpg" />
          </div>
        </div>
        <div class="col-md-6 menu-title">
          <div class="d-flex flex-md-row justify-content-md-between align-items-center">
            <h4 class="menu-name">精油護理＋燙髮</h4>
            <h6 class="menu-price col-md-3">
              <i class="fas fa-dollar-sign mr-1"></i>799
            </h6>
          </div>
          <p class="menu-description">
            Lorem ipsum dolor sit amet consectetur, adipisicing elit.
          </p>
        </div>
        <div class="reserve-btn col-md-2">
          <button class="btn btn-success reserve-confirm" data-bs-toggle="modal" data-bs-target="#time-table">
            查看可預約時間
          </button>
        </div>
      </div>
      <div class="row menu-info mt-3 mb-3">


        <div class="menu-img col-md-3">
          <div class="menu-img-container">
            <img src="img/bg-img/dye-hair.jpg" />
          </div>
        </div>
        <div class="col-md-6 menu-title">
          <div class="d-flex flex-md-row justify-content-md-between align-items-center">
            <h4 class="menu-name">精油護理＋染髮</h4>
            <h6 class="menu-price col-md-3">
              <i class="fas fa-dollar-sign mr-1"></i>799
            </h6>
          </div>
          <p class="menu-description">
            Lorem ipsum dolor sit amet consectetur, adipisicing elit.
          </p>
        </div>
        <div class="reserve-btn col-md-2">
          <button class="btn btn-success reserve-confirm" data-bs-toggle="modal" data-bs-target="#time-table">
            查看可預約時間
          </button>
        </div>
      </div>
    </div>
    <!--menu-area End-->

    <!-- the reservation time check area -->
    <div class="modal fade" id="time-table" tabindex="-1" aria-labelledby="time-table-label" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="time-table-label">可預約時間表</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close\"></button>
          </div>
          <div class="modal-body">
            <div class="row reservation-area">
              <div class="reservation-btns d-flex flex-md-row">
                <input id="bookDate" type="date" value="">
                <button class="btn bookbtn btn-outline-primary" name="btn-myBook">搜尋</button>
              </div>
              <div class="reservation-colors d-flex flex-md-row">
                <p class="bookuseable" id="border">可預約</p>
                <p class="bookuseables">已選取</p>
                <p class="bookoccupied">被預約</p>
                <p class="bookouttime">已過期</p>

              </div>
              <div>
                <table class="table">
                  <tbody id="bookTable">
                    <!-- 以下js生成 -->

                  </tbody>
                </table>
              </div>
              <div>
                <label>姓名:<input type="text" id="bookName" value="" placeholder="請輸入姓名"></label>
                <label>電話:<input type="text" id="bookPhone" value=""></label>
              </div>
              <div class="bookresult">
              </div>

            </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">取消</button>
            <button type="button" class="btn btn-success bookbtn" name="btn-reserve">預約</button>
          </div>
        </div>
      </div>
    </div>
    <!-- the reservation time check area -->


    <!--evaluate-area start-->
    <div id="evaluate-area" class="container evaluate-area">
      <div class="row d-flex justify-content-center">
        <div class="evaluate-item mt-3 col-md-8 col-10">
          <div class="evaluate-title col-md-12 col-12">
            <i class="fas fa-user-circle mr-1"></i><b>查理</b>
          </div>
          <div class="review-content row">
            <div class="evaluate-star col-md-6">
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
              <i class="far fa-star"></i>
              <i class="far fa-star"></i>
              <!-- <p>3.0</p> -->
            </div>
            <div class="evaluate-body col-md-6">
              服務真的很好 環境舒適 造型做得太好了阿
              超級推薦這位設計師的啦啦啦啦啦啦啦啦
            </div>
          </div>
          <div class="evaluate-footer">
            <div class="col-md-6 col-12">
              <label>服務項目：</label><b>造型剪髮+洗頭</b>
            </div>
            <div class="col-md-6 col-12 pos-label">
              <label>日期：</label><b>2021/10/12</b>
            </div>
          </div>
        </div>
        <div class="evaluate-item mt-3 col-md-8 col-10">
          <div class="evaluate-title col-md-12 col-12">
            <i class="fas fa-user-circle mr-1"></i><b>查理</b>
          </div>
          <div class="review-content row">
            <div class="evaluate-star col-md-6">
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
              <i class="far fa-star"></i>
              <i class="far fa-star"></i>
              <!-- <p>3.0</p> -->
            </div>
            <div class="evaluate-body col-md-6">
              服務真的很好 環境舒適 造型做得太好了阿
              超級推薦這位設計師的啦啦啦啦啦啦啦啦
            </div>
          </div>
          <div class="evaluate-footer">
            <div class="col-md-6">
              <label>服務項目：</label><b>造型剪髮+洗頭</b>
            </div>
            <div class="col-md-6 pos-label">
              <label>日期：</label><b>2021/10/12</b>
            </div>
          </div>
        </div>
        <div class="evaluate-item mt-3 col-md-8 col-10">
          <div class="evaluate-title col-md-12 col-12">
            <i class="fas fa-user-circle mr-1"></i><b>查理</b>
          </div>
          <div class="review-content row">
            <div class="evaluate-star col-md-6">
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
              <i class="far fa-star"></i>
              <i class="far fa-star"></i>
              <!-- <p>3.0</p> -->
            </div>
            <div class="evaluate-body col-md-6">
              服務真的很好 環境舒適 造型做得太好了阿
              超級推薦這位設計師的啦啦啦啦啦啦啦啦
            </div>
          </div>
          <div class="evaluate-footer">
            <div class="col-md-6">
              <label>服務項目：</label><b>造型剪髮+洗頭</b>
            </div>
            <div class="col-md-6 pos-label">
              <label>日期：</label><b>2021/10/12</b>
            </div>
          </div>
        </div>
        <div class="evaluate-item mt-3 col-md-8 col-10">
          <div class="evaluate-title col-md-12 col-12">
            <i class="fas fa-user-circle mr-1"></i><b>查理</b>
          </div>
          <div class="review-content row">
            <div class="evaluate-star col-md-6">
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
              <i class="far fa-star"></i>
              <i class="far fa-star"></i>
              <!-- <p>3.0</p> -->
            </div>
            <div class="evaluate-body col-md-6">
              服務真的很好 環境舒適 造型做得太好了阿
              超級推薦這位設計師的啦啦啦啦啦啦啦啦
            </div>
          </div>
          <div class="evaluate-footer">
            <div class="col-md-6">
              <label>服務項目：</label><b>造型剪髮+洗頭</b>
            </div>
            <div class="col-md-6 pos-label">
              <label>日期：</label><b>2021/10/12</b>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!--evaluate-area End-->
  </div>
  <!-- ***** membercenter Area Start ***** -->

  <!-- ***** Footer Area Start ***** -->
  <div footer-html="footer.html"></div>
  <!-- ***** Footer Area End ***** -->

  <!-- ******* All JS ******* -->

  <!-- Popper js -->
  <script src="js/popper.min.js"></script>
  <!-- Bootstrap js -->
  <script src="js/bootstrap.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-/bQdsTh/da6pkI1MST/rWKFNjaCP5gBSY4sEBT38Q/9RBh9AH40zEOg7Hlq2THRZ"
    crossorigin="anonymous"></script>
  <!-- All js -->
  <script src="js/mona.bundle.js"></script>
  <!-- Active js -->
  <script src="js/default-assets/active.js"></script>
  <!-- import js -->
  <script src="import.js"></script>
  <!-- timepicker -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/timepicker/1.3.5/jquery.timepicker.min.js"></script>
  <!-- moment.js -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js"
    integrity="sha512-qTXRIMyZIFb8iQcfjXWCO8+M5Tbc38Qi5WzdPOYZHIlZpzBHG3L3by84BBBOiRGiEb7KKtAOAs5qYdUiZiQNNQ=="
    crossorigin="anonymous" referrerpolicy="no-referrer"></script>

  <script>
    //footer
    includeFooter();

    //reservation table
    $(function () {
      /*預設日期為當天*/
      $(document).ready(function () {
        var now = new Date()
        var month = now.getMonth() + 1
        var day = now.getDate()
        if (month < 10) month = '0' + month
        if (day < 10) day = '0' + day
        var today = now.getFullYear() + '-' + month + '-' + day
        $('#bookDate').val(today)
        $('#bookDate').attr('min', today)
      })
      $("[name='btn-reserve']").click(getReserve)
      $("[name='btn-myBook']").click(submitQuery)
      /*  
            var date = $("#date").val();            //這是測試用=沒用的註解 怕忘記當初怎弄得
            var date1 = new Date("2021/11/05");     //這是測試用=沒用的註解 怕忘記當初怎弄得
            var date2 = date1.format("yyyy-MM-dd"); //這是測試用=沒用的註解 怕忘記當初怎弄得
            console.log(date);                      //這是測試用=沒用的註解 怕忘記當初怎弄得
        */

      function getReserve() {
        $('.bookselected').each(function () {
          /*根據所在的行取得當前預約的時間段和預約的日期，並進行相應的初始化，轉化為預約開始時間和預約結束時間 */

          var time = $(this)
            .parent()
            .find('th')
            .text()
          var hours = time.split('-')[0].split(':')[0]
          var datetime = new Date($('#bookDate').val())
          datetime.setHours(parseInt(hours))
          var startTime = datetime.format('yyyy-MM-dd hh:mm:ss')
          datetime.setHours(parseInt(hours) + 1)
          var endTime = datetime.format('yyyy-MM-dd hh:mm:ss')

          var designerId = 1
          /**
           * 預約提交的參數
           * @Params
           */
          var params = {
            designerId: designerId,
            startTime: startTime,
            endTime: endTime
          }
          console.log(params)
          /*ajax回乎函式能訪問到當前表格單元，將其存入變數$td中*/

          //var $td = $(this);
          if (params != null) {
            $('.bookResult').append(
              '<p>' +
              '會員：' +
              '阿賢預約成功' +
              '，時間：' +
              params.startTime +
              ' 到 ' +
              params.endTime +
              '</p>'
            )
          }
          //$.post("#", params, function(data, status) {
          /*如果預約成功，將原來的bookuseable變為bookoccupied，並且解除點擊事件，不可預約*/
          //if(data.message.result == "success") {
          //    $td.removeClass().addClass("bookoccupied").unbind("click");
          //}
          //var mesg = data.message.result == "success" ? "預約成功" : "預約失败";
          /*在表格下方展示此次預約的结果，包括詳細資訊*/
          //$(".bookResult").append("<p>" + "會員：" + "阿賢" + mesg + "，時間：" + params.startTime +" 到 " + params.endTime + "</p>");
          //}, "json");
        })}
      

      function submitQuery() {
        /*獲取查詢的日期和設計師ID*/

        var date = $('#bookDate').val()
        console.log(date)

        var designerId = 1

        /*ajax查詢已經預約的列表*/

        //$.post("#", {"designerId": designerId, "queryDay": date}, function(data, status) {

        //var book = data.data.book;
        var book = {
          openTime: '10:00:00',
          closeTime: '22:00:00',
          bookList: [
            { startTime: '10:00:00', endTime: '11:00:00' },
            { startTime: '13:00:00', endTime: '14:00:00' }
          ]
        }

        /**
         *   預約的資料
         *   @Params openTime 開放時間
         *   @Params closeTime 結束時間
         *   @Params bookList 指定日期的預約列表
         */

        var openTime = parseInt(book.openTime.split(':')[0])
        var closeTime = parseInt(book.closeTime.split(':')[0])
        if (closeTime == 0) {
          closeTime = 24
        }
        var bookList = book.bookList

        /*清空預約table*/

        $('#bookTable').empty()

        /*設置欄位*/
        var tbRow = '<tr><th scope="col" class="col-6">時間</th><th scope="col" class="col-6">預約</th></tr>'
        $('#bookTable').append(tbRow)

        /*從開放時間到關閉時間，每一小時為一個預約時間*/
        for (var time = openTime; time < closeTime; time++) {
          var show_time = time + ':00 - ' + (time + 1) + ':00'
          tbRow = '<tr><th>' + show_time + '</th>'
          tbRow += '<td></td></tr>'
          $('#bookTable').append(tbRow)
        }
      
    
/*function sss (){
  var date = $('.reserve-datepicker').val().toString();
  var reservationTime = $('.reserve-time-select').val().toString();

  var params = {
    "date" : date,
    "time" : reservationTime
  }

  console.log(params);
}*/


    //reserve-confirm-btn
    /*$(document).ready(function () {
      $('.reserve-confirm').confirm({
        title: '預約確認',
        content: a,
        type: 'blue',
        buttons: {
          取消: {
            btnClass: 'btn-red'
          },
          下一步: {
            btnClass: 'btn-warning',
            action:
            function () {
              //var date = $('.reserve-datepicker').val().toString()
              //var reservationTime = $('.reserve-time-select').val().toString()
              $.confirm({
                title: '預約確認',
                content: '您預訂的是' + date.toString() + '的' + reservationTime.toString(),
                type: 'blue',
                buttons: {
                  取消: {
                    btnClass: 'btn-red'},
                  送出: {
                    btnClass: 'btn-success',
                    action: sss()
                  }
                }*/

        var first_row = openTime;
        var today = new Date();
        /*判斷預約的時間是否為今天之前，是就將所有預約時間段設置過期，判斷預約日期如果是今天就將過期的時間設置為當前時間+1(奧爾斯)
              對table的每個td如果在過期時間之前的時間段，就將這一行td的class設置為bookouttime，表示不可預約，否則class設置為bookuseable表示可預約*/
        if (today.getFullYear() > new Date(date).getFullYear()) {
          $('#bookTable tr').each(function (i) {
            $(this)
              .find('td')
              .addClass('bookouttime')
          })
        } else if (today.getFullYear() == new Date(date).getFullYear()) {
          if (today.getMonth() > new Date(date).getMonth()) {
            $('#bookTable tr').each(function (i) {
              $(this)
                .find('td')
                .addClass('bookouttime')
            })
          } else if (today.getMonth() == new Date(date).getMonth()) {
            if (today.getDate() > new Date(date).getDate()) {
              $('#bookTable tr').each(function (i) {
                $(this)
                  .find('td')
                  .addClass('bookouttime')
              })
            }
            if (today.getDate() == new Date(date).getDate()) {
              var end_row = parseInt(new Date().getHours()) + 1
              $('#bookTable tr').each(function (i) {
                $(this)
                  .find('td')
                  .addClass(
                    i + first_row <= end_row ? 'bookouttime' : 'bookuseable'
                  )
              })
            }
            if (today.getDate() < new Date(date).getDate()) {
              $('#bookTable tr').each(function (i) {
                $(this)
                  .find('td')
                  .addClass('bookuseable')
              })
            }
          } else {
            $('#bookTable tr').each(function (i) {
              $(this)
                .find('td')
                .addClass('bookuseable')
            })
          }
        } else {
          $('#bookTable tr').each(function (i) {
            $(this)
              .find('td')
              .addClass('bookuseable')
          })
        }
        /*開始遍歷，根據預約紀錄的開始時間生成對應的行坐標，找到表格中對應位置的td删除本身的class，增加bookoccupied表示對應時段已經被預約*/
        $(bookList).each(function (i) {
          var row = parseInt(bookList[i].startTime.split(':')[0]) - openTime + 1
          var col = 0
          console.log('row:' + row + ',col:' + col)
          $('#bookTable tr')
            .eq(row)
            .find('td')
            .eq(col)
            .removeClass()
            .addClass('bookoccupied')
        })

        /*所有可以預約的td绑定一個click事件，即點擊表示選中，再點一次恢復原来狀態，直到點擊預約按钮預約成功後，解除click事件，並由bookuseable變為bookoccupied*/
        $('tr .bookuseable').bind('click', function () {
          $(this).toggleClass('bookselected')
        })

        //}, "json");
      }
})

    /*format(Date型別)=>(資料庫date型別"yyyy-MM-dd")*/
    Date.prototype.format = function (fmt) {
      var o = {
        'M+': this.getMonth() + 1,
        'd+': this.getDate(),
        'h+': this.getHours(),
        'm+': this.getMinutes(),
        's+': this.getSeconds(),
        'q+': Math.floor((this.getMonth() + 3) / 3),
        S: this.getMilliseconds()
      }
      if (/(y+)/.test(fmt))
        fmt = fmt.replace(
          RegExp.$1,
          (this.getFullYear() + '').substr(4 - RegExp.$1.length)
        )
      for (var k in o)
        if (new RegExp('(' + k + ')').test(fmt))
          fmt = fmt.replace(
            RegExp.$1,
            RegExp.$1.length == 1 ? o[k] : ('00' + o[k]).substr(('' + o[k]).length)
          )
      return fmt
    }

        //reserve-confirm-btn
        // $(document).ready(function () {
        //     $('.reserve-confirm').confirm({
        //         title: '預約確認',
        //         content: '路人甲 您好</br>請確認以下會員資訊無誤</br>電話：09123123123</br>Email：human123@gmail.com',
        //         type: 'blue',
        //         buttons: {
        //             取消: {
        //                 btnClass: 'btn-red'
        //             },
        //             下一步: {
        //                 btnClass: 'btn-warning',
        //                 action: function () {
        //                     var date = $('.reserve-datepicker').val().toString()
        //                     var reservationTime = $('.reserve-time-select').val().toString()
        //                     $.confirm({
        //                         title: '預約確認',
        //                         content: '您預訂的是' + date.toString() + '的' + reservationTime.toString(),
        //                         type: 'blue',
        //                         buttons: {
        //                             取消: {
        //                                 btnClass: 'btn-red'
        //                             },
        //                             送出: {
        //                                 btnClass: 'btn-success',
        //                             }
        //                         }
        //                     })
        //                 }
        //             }
        //         }
        //     });
        // })

  </script>
</body>

</html>